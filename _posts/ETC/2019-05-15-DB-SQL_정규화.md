---
layout: post
title: '[DB] 정규화'
category: etc
tags: [sql, 정규화]
comments: true
---

# 정규화
- 데이터베이스의 릴레이션이나 튜플을 불필요한 중복없이, 수정할 때 의도하지 않았던 불필요한 사실이 추가, 삭제, 갱신되는 일이 없도록 DB를 재구성하는 과정을 공식화한 과정

## 제 1 정규형
- 원자값이 아닌 도메인을 분해
- 속성들이 각각 다른 열로 분해된 릴레이션을 만드는

## 제 2 정규형
- 부분함수 종속 제거
- 기본키가 아닌 속성이 기본키에 완전 함수 종속일 때를 의미

## 제 3 정규형
- 이행함수 종속 제거

### 제 3 정규형의 문제
- 복수의 후보키를 가지고 있고,
- 후보키들이 복합 애트리뷰트들로 구성되며
- 후보키들이 서로 중첩되는 경우


## BCNF 정규형
- 결정자가 후보키가 아닌 함수종속(FD) 제거
- 릴렝이션의 함수 종속 관계에서 모든 결정자가 후보키이면 보이스/코드 정규형에 속한다.
- 강한 제3정규형(Strong 3NF)

## 제 4 정규형
- 함수종속이 아닌 다치종속(MVD) 제거
- Muti-valued dependency
- 한 테이블에 두 개 이상의 다가속성이 나타나는 경우
- 릴레이션 R에서 MVD A B가 존재할 때 R의 모든 애트리뷰트들이 A에 함수 종속(FD) (즉 R의 모든 애트리뷰트 X에 대해 AX 이고 A가 후보키)이면 릴레이션 R은 제 4 정규형에 속한다

## 제 5 정규형
- 후보키를 통하지 않은 조인종속(JD) 제거
- 릴레이션 R에 존재하는 모든 조인 종속 (JD)이 릴레이션 R의 후보키를 통해서만 성립된다면 릴레이션 R은 제 5 정규형 또는 PJ/NF(Projection-Join Normal Form)에 속한다.

## 반정규화(De-Normalization)
- 현실적으로 모든 릴레이션을 반드시 5NF에 속하도록 분해할 필요는 없음
- 학생주소(학번,이름,주소,전화번호) : BCNF가 아님
- 기본키 : 학번
- FD : 전화번호→주소