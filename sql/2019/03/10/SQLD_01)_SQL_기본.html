<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[SQLD] 01) SQL 기본 | Dev Log of Jason Ahn</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="[SQLD] 01) SQL 기본" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="POINT 1. 관계형 데이터베이스(Relation Database)" />
<meta property="og:description" content="POINT 1. 관계형 데이터베이스(Relation Database)" />
<link rel="canonical" href="https://safenumz.github.io/blog/sql/2019/03/10/SQLD_01)_SQL_%EA%B8%B0%EB%B3%B8.html" />
<meta property="og:url" content="https://safenumz.github.io/blog/sql/2019/03/10/SQLD_01)_SQL_%EA%B8%B0%EB%B3%B8.html" />
<meta property="og:site_name" content="Dev Log of Jason Ahn" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-10T00:00:00-06:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="[SQLD] 01) SQL 기본" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2019-03-10T00:00:00-06:00","datePublished":"2019-03-10T00:00:00-06:00","description":"POINT 1. 관계형 데이터베이스(Relation Database)","headline":"[SQLD] 01) SQL 기본","mainEntityOfPage":{"@type":"WebPage","@id":"https://safenumz.github.io/blog/sql/2019/03/10/SQLD_01)_SQL_%EA%B8%B0%EB%B3%B8.html"},"url":"https://safenumz.github.io/blog/sql/2019/03/10/SQLD_01)_SQL_%EA%B8%B0%EB%B3%B8.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://safenumz.github.io/blog/feed.xml" title="Dev Log of Jason Ahn" /><link rel="shortcut icon" type="image/x-icon" href="/blog/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">Dev Log of Jason Ahn</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about/">About Me</a><a class="page-link" href="/blog/search/">Search</a><a class="page-link" href="/blog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">[SQLD] 01) SQL 기본</h1><p class="post-meta post-meta-title"><time class="dt-published" datetime="2019-03-10T00:00:00-06:00" itemprop="datePublished">
        Mar 10, 2019
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      16 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/blog/categories/#SQL">SQL</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="point-1-관계형-데이터베이스relation-database">POINT 1. 관계형 데이터베이스(Relation Database)</h1>

<h1 id="point-2-sqlstructured-query-language-종류">POINT 2. SQL(Structured Query Language) 종류</h1>
<h2 id="2-sqlstructured-query-language-종류">2. SQL(Structured Query Language) 종류</h2>
<ul>
  <li>DDL(Data Definition Lanuage) : 관계형 데티버 베이스의 구조를 정의 하는 언어, CREATE, ALTER, DROP, RENAME</li>
  <li>DML(Data Manipulation Language) : 테이블에서 데이터를 입력, 수정, 삭제, 조회함, INSERT, UPDATE, DELETE, SELECT</li>
  <li>DCL(Data Control Language) : 데이터베이스 사용자에게 권한을 부여하거나 회수, GRANK, REVOKE</li>
  <li>TCL(Transaction Control Language) : 트랜잭션을 제어하는 명령어, COMMIT, ROLLBACK</li>
</ul>

<h3 id="트랜잭션의-특성">트랜잭션의 특성</h3>
<ul>
  <li>원자성(Atomicity) : 트랜잭션은 데이터베이스 연산의 전부 또는 일부(ALL OR NOTHING) 실행만이 있음, 트랜잭션의 처리가 완전히 끝나지 않았을 경우는 전혀 이루어지지 않은 것과 같아야 함</li>
  <li>일관성(Consistency) : 트랜잭션 실행 결과로 데이터베이스의 상태가 모순되지 않아야 함, 트랜잭션 실행 후에도 일관성이 유지되어야 함</li>
  <li>고립성(Isolation) : 트랜잭션 실행 중에 생성하는 연산의 중간결과는 다른 트랜잭션이 접근할 수 없음, 즉, 부분적인 실행결과를 다른 트랜잭션이 볼 수 없음</li>
  <li>연속성(Durability) : 트랜잭션이 그 실행을 성공적으로 완료하면 그 결과는 영구적 보장이 되어야 함</li>
</ul>

<h2 id="3-sql문의-실행-순서">3. SQL문의 실행 순서</h2>
<ul>
  <li>파싱(Parsing) : SQL문의 문법을 확인하고 구문분석함, 구문분석한 SQL문은 Library Cashe에 저장</li>
  <li>실행(Execution) : 옵티마이저(Optimizer)가 수립한 실행계획에 따라 SQL문을 실행</li>
  <li>인출(Fetch) : 데이터를 읽어서 전송</li>
</ul>

<h1 id="point-3-ddldata-definition-language">POINT 3. DDL(Data Definition Language)</h1>
<h2 id="1-테이블-생성">1. 테이블 생성</h2>
<h3 id="1-기본적인-테이블-생성">(1) 기본적인 테이블 생성</h3>
<ul>
  <li>number은 숫자형 타입을 지정</li>
  <li>char은 고정된 크기의 문자 지정</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 기본키가 두개라면 'constraint emppk primary key(empno, ename)'으로 지정하면 됨</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMP</span>
<span class="p">(</span>
  <span class="n">empno</span> <span class="n">number</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">primary</span> <span class="k">key</span>
  <span class="n">ename</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
  <span class="n">sal</span> <span class="n">number</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1">-- 테이블의 구조 확인</span>
<span class="k">DESC</span> <span class="n">EMP</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-제약조건-사용">(2) 제약조건 사용</h3>

<ul>
  <li>default 0 : 기본값 0으로 지정</li>
  <li>sysdate : 기본값 오늘 날짜 (Oracle 데이터베이스)</li>
  <li>constraint를 사용해서 기본키 지정, 기본키의 이름을 지정 가능</li>
  <li>number(10, 2) : 소수점 둘째자리까지 저장</li>
  <li>외래키(Foreign key)를 지정하려면, 먼저 마스터 테이블이 생성되어야 함, 사원과 부서 테이블에서는 부서가 마스터 테이블이 됨</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 마스터 테이블을 먼저 생성</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">DEPT</span> <span class="p">(</span>
  <span class="n">deptno</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
  <span class="n">deptname</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- DEPT 테이블의 DEPTNO 칼럼에 대해서 외래키를 생성</span>
<span class="c1">-- 외래키가 기본키를 참조</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="p">(</span>
  <span class="n">empno</span> <span class="n">number</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
  <span class="n">ename</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
  <span class="n">sal</span> <span class="n">number</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">default</span> <span class="mi">0</span><span class="p">,</span>
  <span class="n">deptno</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">not</span> <span class="k">null</span><span class="p">,</span>
  <span class="n">createdate</span> <span class="nb">date</span> <span class="k">default</span> <span class="n">sysdate</span><span class="p">,</span>
  <span class="k">constraint</span> <span class="n">emppk</span> <span class="k">foreign</span> <span class="k">key</span><span class="p">(</span><span class="n">deptno</span><span class="p">)</span>
      <span class="n">reference</span> <span class="n">dept</span><span class="p">(</span><span class="n">deptno</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="3-테이블-생성-시에-cascade-사용">(3) 테이블 생성 시에 CASCADE 사용</h3>
<ul>
  <li>CASCADE 옵션은 참조 관계(기본키와 외래키 관계)가 있을 경우 참조되는 데이터도 자동으로 삭제할 수 있는 것</li>
  <li>먼저, 마스터 테이블을 먼저 생성함, 즉, DEPT 테이블을 생성하고 데이터를 입력</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">DEBT</span> <span class="p">(</span>
  <span class="n">deptno</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
  <span class="n">deptname</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">DEPT</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'1000'</span><span class="p">,</span> <span class="s1">'인사팀'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">DEPT</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'1001'</span><span class="p">,</span> <span class="s1">'총무팀'</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>EMP 테이블을 생성</li>
  <li>‘On Delete Cascade’ 옵션을 사용</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="p">(</span>
  <span class="n">empno</span> <span class="n">number</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
  <span class="n">ename</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">20</span><span class="p">).</span>
  <span class="n">sal</span> <span class="n">number</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">default</span> <span class="mi">0</span><span class="p">,</span>
  <span class="n">deptno</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">not</span> <span class="k">null</span><span class="p">,</span>
  <span class="n">createdate</span> <span class="nb">date</span> <span class="k">default</span> <span class="n">sysdate</span><span class="p">,</span>
  <span class="k">constraint</span> <span class="n">e_pk</span> <span class="k">primary</span> <span class="k">key</span><span class="p">(</span><span class="n">empno</span><span class="p">),</span>
  <span class="k">constraint</span> <span class="n">d_fk</span> <span class="k">foreign</span> <span class="k">key</span> <span class="p">(</span><span class="n">deptno</span><span class="p">)</span>
      <span class="k">references</span> <span class="n">dept</span><span class="p">(</span><span class="n">deptno</span><span class="p">)</span>
      <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span>
<span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>EMP 테이블의 데이터를 조회한 결과, DEPTNO ‘1000’번이었던 ‘임베스트’ 데이터도 자동으로 삭제</li>
  <li>즉, ON DELETE CASCADE 옵션은 자신이 참조하고 있는 테이블(DEPT)의 데이터가 삭제되면 자동으로 자신(EMP)도 삭제되는 옵션</li>
  <li>ON DELETE CASCADE 옵션을 사용하면 참조 무결성을 준수할 수 있음</li>
  <li>참조 무결성이란, 마스터 테이블(DEPT)에는 해당 부서번호(DEPTNO)가 없는데, 슬레이브 테이블(EMP)에는 해당 부서번호가 있는 경우를 참조 무결성 위배라고 함</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- DEPT 테이블에서 '1000'번 인사팀 삭제</span>
<span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">DEPT</span> <span class="k">WHERE</span> <span class="n">DEPTNO</span> <span class="o">=</span> <span class="s1">'1000'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="4-테이블명-변경">(4) 테이블명 변경</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="k">RENAME</span> <span class="k">TO</span> <span class="n">NEW_EMP</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="2-테이블table-변경">2. 테이블(Table) 변경</h2>

<h3 id="1-칼럼추가">(1) 칼럼추가</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="k">ADD</span> <span class="p">(</span><span class="n">age</span> <span class="n">number</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">default</span> <span class="mi">1</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="2-칼럼-변경">(2) 칼럼 변경</h3>
<ul>
  <li>칼럼의 데이터 타입을 변경할 때 기존 데이터가 있는 경우 에러가 발생</li>
  <li>예를 들어 숫자 데이터가 저장되어 있는데 문자형 데이터 타입으로 변경하면 에러가 발생하는 것</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="k">MODIFY</span> <span class="p">(</span><span class="n">ename</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span> <span class="k">not</span> <span class="k">null</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="3-칼럼-삭제">(3) 칼럼 삭제</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="k">DROP</span> <span class="k">COLUMN</span> <span class="n">age</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="4-칼럼명-변경">(4) 칼럼명 변경</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="k">RENAME</span> <span class="k">COLUMN</span> <span class="n">ename</span> <span class="k">to</span> <span class="n">new_ename</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="3-테이블table-삭제">3. 테이블(Table) 삭제</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- EMP 테이블의 데이터와 데이터 구조 모두를 삭제</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">EMP</span><span class="p">;</span>

<span class="c1">-- 참조된 제약사항까지도 모두 삭제</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">EMP</span> <span class="k">CASCADE</span> <span class="k">CONSTRAINT</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="4-뷰view-생성과-삭제">4. 뷰(View) 생성과 삭제</h2>
<ul>
  <li>뷰란 테이블로부터 유도된 가상의 테이블</li>
  <li>실제 데이터를 가지고 있지 않고 테이블을 참조해서 원하는 칼럼만을 조회할 수 있게 함</li>
  <li>뷰는 데이터 딕셔너리(Data Dictionary)에 SQL문 형태로 저장하고 실행 시에 참조됨</li>
</ul>

<h4 id="뷰의-특징">뷰의 특징</h4>
<ul>
  <li>참조한 테이블이 변경되면 뷰도 변경</li>
  <li>뷰의 검색은 참조한 테이블과 동일하게 할 수 있지만, 뷰에 대한 입력, 수정, 삭제에는 제약이 발생</li>
  <li>특정 칼럼만 조회시켜서 보안성을 향상</li>
  <li>한번 생성된 뷰는 변경할 수 없고 변경을 원하면 삭제 후 재생성해야 함</li>
  <li>ALTER문을 사용해서 뷰를 변경</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">T_EMP</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span><span class="p">;</span>
</code></pre></div></div>

<ul>
  <li>뷰의 생성은 ‘CREATE VIEW’를 사용하고 참조해야 하는 테이블을 지정해야 함</li>
  <li>뷰를 생성할 때 ‘SELECT’ 문을 사용하여 참조되는 테이블을 지정하는 것</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 뷰 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">T_EMP</span><span class="p">;</span>

<span class="c1">-- 뷰 삭제</span>
<span class="k">DROP</span> <span class="k">VIEW</span> <span class="n">T_EMP</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="point-4-dmldata-manipulation-language">POINT 4. DML(Data Manipulation Language)</h1>
<h2 id="1-insert문">1. INSERT문</h2>
<h3 id="1-insert문-1">(1) INSERT문</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">INSERT</span> <span class="k">INTO</span> <span class="k">table</span> <span class="p">(</span><span class="n">column1</span><span class="p">,</span> <span class="n">column2</span><span class="p">,</span> <span class="p">...)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="n">expression1</span><span class="p">,</span> <span class="n">expression2</span><span class="p">,</span> <span class="p">..);</span>

<span class="c1">-- 모든 칼럼에 입력</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">EMP</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="s1">'임베스트'</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="2-select문으로-입력">(2) SELECT문으로 입력</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- DEPT 테이블의 모든 데이터를 조회해서 DEPT_TEST 테이블에 입력</span>
<span class="k">INSERT</span> <span class="n">INOT</span> <span class="n">DEPT_TEST</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">DEPT</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-nologging-사용">(3) Nologging 사용</h3>
<ul>
  <li>데이터베이스에 데이터를 입력하면 로그파일(Log file)에 그 정보를 기록</li>
  <li>Check point라는 이벤트가 발생하면 로그파일의 데이트를 데이터 파일에 저장</li>
  <li>Nologging 옵션은 로그파일의 기록을 최소화시켜서 입력 시에 성능을 향상시키는 방법</li>
  <li>Nologging 옵션은 Buffer Cache라는 메모리 영역을 생략하고 기록함</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 로그파일의 기록을 최소화하여 입력 성능을 향상시킴</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">DEPT</span> <span class="n">NOLOGGING</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="2-update문">2. UPDATE문</h2>
<ul>
  <li>입력된 데이터 값을 수정하려면, UPDATE문을 사용</li>
  <li>UPDATE문은 원하는 조건으로 검색해서 해당 데이터를 수정하는 것</li>
  <li>만약, UPDATE문에 조건문을 입력하지 않으면 모든 데이터가 수정되므로 유의해야 함</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">UPDATE</span> <span class="n">EMP</span>
  <span class="k">SET</span> <span class="n">ENAME</span><span class="o">=</span><span class="s1">'조조'</span>
<span class="k">WHERE</span> <span class="n">EMPNO</span><span class="o">=</span><span class="mi">100</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="3-delete문">3. DELETE문</h2>
<ul>
  <li>DELETE문에서 원하는 조건을 검색해서 해당되는 행을 삭제</li>
  <li>DELETE문에 조건문을 입력하지 않으면 모든 데이터가 삭제</li>
  <li>DELETE문으로 데이터를 삭제한다고 해서 테이블의 용량이 초기화되지 않음</li>
  <li>데이터의 용량을 초기화하려면 TRUNCATE문을 사용해야 함</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">EMP</span> <span class="k">WHERE</span> <span class="n">EMPNO</span><span class="o">=</span><span class="mi">100</span><span class="p">;</span>

<span class="c1">-- EMP 테이블의 모든 데이터를 삭제하면서 테이블의 용량을 초기화</span>
<span class="k">TRUNCATE</span> <span class="k">TABLE</span> <span class="n">EMP</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="4-select문">4. SELECT문</h2>
<h3 id="1-select문-사용">(1) SELECT문 사용</h3>
<ul>
  <li>테이블에 입력된 데이터를 조회하기 위해 SELECT문을 사용</li>
  <li>SELECT문은 특정 칼럼이나 특정 행만을 조회할 수 있음</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="err">사원번호</span><span class="o">=</span><span class="mi">1000</span><span class="p">;</span>

<span class="c1">-- ENAME 칼럼을 조회하면서 뒤에 '님'이라는 문자를 결합</span>
<span class="k">SELECT</span> <span class="n">ENAME</span><span class="o">||</span><span class="s1">'님'</span> <span class="k">FROM</span> <span class="n">EMP</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-order-by를-사용한-정렬">(2) Order by를 사용한 정렬</h3>
<ul>
  <li>SELECT문을 사용할 때 Order by를 같이 사용할 수 있음</li>
  <li>Order by는 데이터를 오름차순(Ascending) 혹은 내림차순(Descending)으로 출력</li>
  <li>특별한 지정이 없으면 Order by는 오름차순으로 정렬</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ENAME으로 오름차순 정렬하고 SAL로 내림차순 정렬함</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">ENAME</span><span class="p">,</span> <span class="n">SAL</span> <span class="k">DESC</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-index를-사용한-정렬-회피">(3) INDEX를 사용한 정렬 회피</h3>
<ul>
  <li>인덱스를 지정하면 자동으로 오름차순 인덱스가 생성</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">emp</span><span class="p">(</span>
  <span class="n">empno</span> <span class="n">number</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
  <span class="n">ename</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
  <span class="n">sal</span> <span class="n">number</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">emp</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="s1">'임베스트'</span><span class="p">,</span> <span class="mi">20000</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">emp</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">1001</span><span class="p">,</span> <span class="s1">'조조'</span><span class="p">,</span> <span class="mi">20000</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">emp</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">1002</span><span class="p">,</span> <span class="s1">'관우'</span><span class="p">,</span> <span class="mi">20000</span><span class="p">);</span>

<span class="c1">-- 인덱스 힌트 사용</span>
<span class="c1">-- EMPNO의 인덱스를 내림차순으로 읽음</span>
<span class="c1">-- 인덱스를 스캔한 후에 해당 EMPNO의 값을 가지고 테이블의 데이터를 읽음</span>
<span class="k">SELECT</span> <span class="cm">/*+ INDEX_DESC(A) */</span><span class="o">*</span>
<span class="k">FROM</span> <span class="n">EMP</span> <span class="n">A</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="4-distinct와-alias">(4) Distinct와 Alias</h3>
<h4 id="distinct">Distinct</h4>
<ul>
  <li>Distinct문은 칼럼명 앞에 지정하여 중복된 데이터를 한번만 조회하게 함</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 중복을 제거하지 않고 모든 값이 출력됨</span>
<span class="k">SELECT</span> <span class="n">DEPTNO</span> <span class="k">FROM</span> <span class="n">EMP</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">DEPTNO</span><span class="p">;</span>


<span class="c1">-- 중복을 제거한 DEPTNO가 출력됨</span>
<span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">DEPTNO</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">DEPTNO</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="alias">Alias</h4>
<ul>
  <li>Alias(별칭)은 테이블명이나 칼럼명이 너무 길어서 간력하게 사용할 때 사용</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 컬럼명을 단축하기 위해 AS '이름'을 썼고 테이블명을 단축하기 위해 a를 씀</span>
<span class="k">SELECT</span> <span class="n">ENAME</span> <span class="k">AS</span> <span class="s1">'이름'</span> <span class="k">FROM</span> <span class="n">EMP</span> <span class="n">a</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">EMPNO</span><span class="o">=</span><span class="mi">10000</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="5-where문-사용">5. WHERE문 사용</h2>
<h3 id="1-where문이-사용하는-연산자">(1) WHERE문이 사용하는 연산자</h3>
<ul>
  <li>WHERE문이 사용할 수 있는 연산자는 비교 연산자, 부정 연산자, 부정 비교 연산자, 논리 연산자, SQL 연산자, 부정 SQL 연산자가 있음</li>
</ul>

<h4 id="비교연산자">비교연산자</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>=
&lt;
&lt;=
&gt;
&gt;=
</code></pre></div></div>

<h4 id="부정비교-연산자">부정비교 연산자</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>!= : 같지 않은 것을 조회
^= : 같지 않은 것을 조회
&lt;&gt; : 같지 않은 것을 조회
NOT 칼럼명= : 같지 않은 것을 조회
NOT 칼럼명&gt; : 크지 않은 것을 조회
</code></pre></div></div>

<h4 id="논리-연산자">논리 연산자</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>AND : 조건을 모두 만족해야 참이 됨
OR : 조건을 하나만 만족해도 참이 됨
NOT : 참이면 거짓으로 바꾸고 거짓으면 참으로 바꿈
</code></pre></div></div>

<h4 id="sql-연산자">SQL 연산자</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LIKE '비교 문자열' : 비교 문자열 조회, '%'는 모든 것을 의미
BETWEEN A AND B : A와 B 사이의 값을 조회
IN (list) : OR를 의미하며 list 값 중에 하나만 일치해도 조회
IS NULL : NULL 값을 조회
</code></pre></div></div>

<h4 id="부정-sql-연산자">부정 SQL 연산자</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NOT BETWEEN A AND B : A와 B 사이의 해당되지 않은 값을 조회
NO IN (list) : list와 불일치한 것을 조회
IS NOT NULL : NULL이 아닌 것을 조회
</code></pre></div></div>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- EMP 테이블에서 EMPNO가 1001이고 SAL이 1000보다 큰 것만을 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">EMPNO</span><span class="o">=</span><span class="mi">1001</span> <span class="k">AND</span> <span class="n">SAL</span> <span class="o">&gt;=</span> <span class="mi">1000</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-like문-사용">(2) Like문 사용</h3>
<ul>
  <li>Like문은 와일드카드를 사용해서 데이터를 조회할 수 있음</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% : 어떠한 문자를 포함한 것을 조회, 예를 들어 '조%'는 '조'로 시작하는 모든 문자 조회
_ : 한 개인 단일 문자를 의미
</code></pre></div></div>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ENMAE이 'test'로 시작하는 모든 데이터를 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">ENAME</span> <span class="k">LIKE</span> <span class="s1">'test%'</span><span class="p">;</span>

<span class="c1">-- ENAME의 마지막이 '1'로 끝나는 모든 것을 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">ENAME</span> <span class="k">LIKE</span> <span class="s1">'%1'</span><span class="p">;</span>

<span class="c1">-- ENAME의 중간에 'est'가 있는 모든 것을 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">ENAME</span> <span class="k">LIKE</span> <span class="s1">'%est%'</span><span class="p">;</span>

<span class="c1">-- Like문에 와일드 카드를 사용하지 않으면 '='와 같음</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">ENAME</span> <span class="k">LIKE</span> <span class="s1">'test1'</span><span class="p">;</span>

<span class="c1">-- ENAME 칼럼에서 'test'로 시작하고 하나의 데이터만 더 있는 것만 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">ENAME</span> <span class="k">LIKE</span> <span class="s1">'test_'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-between문-사용">(3) Between문 사용</h3>
<ul>
  <li>Between문은 지정된 범뉘에 있는 값을 조회</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 1000과 2000 포함한 1000부터 2000 사이의 값을 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">SAL</span> <span class="k">BETWEEN</span> <span class="mi">1000</span> <span class="k">AND</span> <span class="mi">2000</span><span class="p">;</span>

<span class="c1">-- 1000부터 2000원 사이의 값이 아닌 것을 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">SAL</span> <span class="k">NOT</span> <span class="k">BETWEEN</span> <span class="mi">1000</span> <span class="k">AND</span> <span class="mi">2000</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="4-in문-사용">(4) IN문 사용</h3>
<ul>
  <li>IN문은 ‘OR’의 의미를 가지고 있어서 하나의 조건만 만족해도 조회가 됨</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- JOB이 'CLERK'나 'MANAGER'를 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">JOB</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">'CLERK'</span><span class="p">,</span> <span class="s1">'MANAGER'</span><span class="p">);</span>

<span class="c1">-- IN 조건에 두 개의 칼럼을 지정</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="p">(</span><span class="n">JOB</span><span class="p">,</span> <span class="n">ENAME</span><span class="p">)</span>
<span class="k">IN</span> <span class="p">((</span><span class="s1">'CLERK'</span><span class="p">,</span> <span class="s1">'test1'</span><span class="p">),</span> <span class="p">(</span><span class="s1">'MANAGER'</span><span class="p">,</span> <span class="s1">'test4'</span><span class="p">));</span>
</code></pre></div></div>

<h3 id="5-null값-조회">(5) NULL값 조회</h3>
<h4 id="null의-특징">NULL의 특징</h4>
<ul>
  <li>NULL은 모르는 값을 의미</li>
  <li>NULL은 값의 부재를 의미</li>
  <li>NULL과 모든 비교는 알 수 없음을 반환</li>
  <li>NULL과 숫자 혹은 날짜를 더하면 NULL이 됨</li>
  <li>NULL 값은 비교 연산자로 비교할 수 없음, 만약 비교 연산자로 NULL을 비교하면 거짓이 나옴</li>
</ul>

<h4 id="null-값-조회">NULL 값 조회</h4>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- NULL값인 것만 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">MGR</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- NULL 값이 아닌 것을 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">MGR</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="null-관련-함수">NULL 관련 함수</h4>
<ul>
  <li>NVL : NULL이면 다른 값으로 바꾸는 함수, NVL(MGR, 0)은 MGR 칼럼이 NULL이면 0으로 바꿈</li>
  <li>NVL2 : MVL2(MGR, 1, 0)은 MGR 칼럼이 NULL이 아니면 1을 NULL이면 0을 반환</li>
  <li>NULLIF : 두 개의 값이 같으면 NULL을 같지 않으면 첫 번째 값을 반환, NULLIF(exp1, exp2)은 exp1과 exp2가 같으면 NULL을 같지 않으면 exp1을 반환</li>
  <li>COALESCE : COALSCE(mgr, 1)은 mgr이 NULL이 아니면 1을 반환</li>
</ul>

<h1 id="point-6-group-연산">POINT 6. GROUP 연산</h1>
<h2 id="1-group-by문">1. GROUP BY문</h2>
<ul>
  <li>GROUP BY는 테이블에서 소규모 행을 그룹화하여 합계, 평균, 최대치, 최소값 등을 계산할 수 있음</li>
  <li>HAVING구에 조건문을 사용</li>
  <li>ORDER BY를 사용해서 정렬할 수 있음</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- DEPTNO(부서번호)로 그룹을 만듬</span>
<span class="k">SELECT</span> <span class="n">DEPTNO</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">SAL</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">DEPTNO</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="2-having문-사용">2. HAVING문 사용</h2>
<ul>
  <li>GROUP BY에 조건절을 사용하려면 HAVING을 사용해야 함</li>
  <li>만약 WHERE절에 조건문을 사용하게 되면 GROUP BY 대상에서 제외</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">DEPTNO</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">SAL</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">DEPTNO</span>
<span class="k">HAVING</span> <span class="k">SUM</span><span class="p">(</span><span class="n">SAL</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10000</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="3-집계함수-종류">3. 집계함수 종류</h2>
<ul>
  <li>COUNT() : 행 수를 조회</li>
  <li>SUM() : 합계를 계산</li>
  <li>AVG() : 평균을 계산</li>
  <li>MAX()와 MIN() : 최대값과 최소값을 계산</li>
  <li>STDDEV() : 표준편차를 계산</li>
  <li>VARIAN() : 분산을 계산</li>
</ul>

<h2 id="4-count-함수">4. COUNT 함수</h2>
<ul>
  <li>COUNT(*)은 NULL 값을 포함한 모든 행 수를 계산</li>
  <li>하지만 COUNT(칼럼)으로하면 NULL 값을 제외한 행수를 계산함</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">EMP</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">MGR</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">EMP</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="5-group-by-사용-예제">5. GROUP BY 사용 예제</h2>
<h3 id="1-부서별deptno-관리자별mgr-급여-평균-계산">(1) 부서별(DEPTNO), 관리자별(MGR) 급여 평균 계산</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">DEPTINO</span><span class="p">,</span> <span class="n">MGR</span><span class="p">,</span> <span class="k">AVG</span><span class="p">(</span><span class="n">SAL</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">DEPTNO</span><span class="p">,</span> <span class="n">MGR</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-직업별job-급여-합계-중에-급여-합계sal가-1000-이상인-직원">(2) 직업별(JOB) 급여 합계 중에 급여 합계(SAL)가 1000 이상인 직원</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">JOB</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">SAL</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">JOB</span>
<span class="k">HAVING</span> <span class="k">SUM</span><span class="p">(</span><span class="n">SAL</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-사원번호-10001003번의-부서별-급여-합계">(3) 사원번호 1000~1003번의 부서별 급여 합계</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">DEPTNO</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">SAL</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">EMPNO</span> <span class="k">BETWEEN</span> <span class="mi">1000</span> <span class="k">AND</span> <span class="mi">1003</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">DEPTNO</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="point-7-select문-실행-순서">POINT 7. SELECT문 실행 순서</h1>
<ul>
  <li>SQL의 실행 순서는 결과로 조회된 데이터를 이해하는 데 아주 중요한 요소</li>
  <li>SELECT문의 실행 순서는 FROM, WHERE, GROUP BY, HAVING, SELECT, ORDER BY 순으로 실행</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">ename</span>
<span class="k">FROM</span> <span class="n">emp</span>
<span class="k">WHERE</span> <span class="n">empno</span><span class="o">=</span><span class="mi">10</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">ename</span>
<span class="k">HAVING</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">1</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">ename</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="point-8-명시적explicit-형변환과-암시적implicit-형변환">POINT 8. 명시적(Explicit) 형변환과 암시적(Implicit) 형변환</h1>
<ul>
  <li>형변환 이라는 것은 두 개의 데이터의 타입(형)이 일치하도록 변환하는 것</li>
  <li>예를 들어 숫자와 문자열의 비교, 문자열과 날짜형의 비교와 같이 데이터 타입이 불일치 할 때 발생</li>
  <li>형변환은 명시적(Explicit) 형변환과 암시적(Implicit) 형변환이 있음</li>
  <li>명시적 형변환은 형변환 함수를 사용해서 데이터 타입을 일치시키는 것으로 개발자가 sql문을 사용할 때 형변환 함수를 사용해야 함</li>
</ul>

<h4 id="형변환-함수">형변환 함수</h4>
<ul>
  <li>TO_NUMBER(문자열) : 문자열을 숮자로 변환</li>
  <li>TO_CHAR(숫자 혹은 날짜, [FORMAT]) : 숫자 혹은 문자를 지정된 FORMAT의 문자로 변환</li>
  <li>
    <p>TO_DATE(문자열, FORMAT) : 문자열을 지정된 FORMART의 날짜형으로 변환</p>
  </li>
  <li>
    <p>암시적 형변환은 개발자가 형변환을 하지 않은 경우 데이터베이스 관리 시스템이 자동으로 형변환하는 것을 의미</p>
  </li>
  <li>인덱스 칼럼에 형변환을 수행하면 인덱스를 사용하지 못함</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">EMPNO</span><span class="o">=</span><span class="s1">'100'</span><span class="p">;</span>
<span class="c1">-- 문자형 데이터 타입 '100', 암시적 형변환이 발생</span>
<span class="c1">-- EMPNO를 Oracle이 자동으로 TO_CHAR(EMPNO)로 변환해서 데이터 타입을 일치시킴</span>
<span class="c1">-- 암시적 형변환으로 EMPNO가 TO_CHAR(EMPNO)로 변환되므로 인덱스를 사용할 수 없음</span>
<span class="c1">-- 이와 같은 문제는 명시적 형변환을 사용하면 됨'</span>
<span class="c1">-- WHERE EMPNO = TO_NUMBER('100')으로 하면 EMPNO 칼럼이 변환되지 않아서 인덱스를 사용할 수 있음</span>
</code></pre></div></div>

<h1 id="point-9-내장형-함수built-in-function">POINT 9. 내장형 함수(BUILT-IN Function)</h1>
<h2 id="1-내장형-함수">1. 내장형 함수</h2>
<ul>
  <li>내장형 함수로는 형변환 함수, 문자열 및 숫자형 함수, 날짜형 함수가 있음</li>
</ul>

<h2 id="2-dual-테이블">2. DUAL 테이블</h2>
<ul>
  <li>DUAL 테이블은 Oracle 데이터베이스에 의해서 자동으로 생성되는 테이블</li>
  <li>Oracle 데이터 베이스 사용자가 임시로 사용할 수 있는 테이블로 내장형 함수를 실행할 때도 사용</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Oracle은 기본적으로 DUAL 테이블이라는 Dummy 테이블이 존재</span>
<span class="c1">-- DUAL 테이블 구조</span>
<span class="k">DESC</span> <span class="n">DUAL</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="3-내장형-함수의-종류">3. 내장형 함수의 종류</h2>
<ul>
  <li>DUAL 테이블과 문자형 내장형 함수를 사용하면 다음과 같음</li>
  <li>ACSII 함수는 문자에 대한 ACSII 코드 값을 알려줌, ACSII 코드는 대문자 A를 기준으로 A(65), B(66), C(67) 등의 값</li>
  <li>SUBSTR 함수는 지정된 위치의 문자열을 자르는 함수, LENGTH 함수 혹은 LEN 함수는 문자열의 길이를 계산</li>
  <li>LTRIM 함수를 사용하면 문자열의 왼쪽 공백을 제거할 수 있음</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ACSII('a') -&gt; 97</span>
<span class="c1">-- SUBSTR('ABC', 1, 2) : 'ABC'를 1부터 2까지 자름 -&gt; AB</span>
<span class="k">SELECT</span> <span class="n">ACSII</span><span class="p">(</span><span class="s1">'a'</span><span class="p">),</span> <span class="n">SUBSTR</span><span class="p">(</span><span class="s1">'ABC'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
 <span class="k">LENGTH</span><span class="p">(</span><span class="s1">'A BC'</span><span class="p">),</span> <span class="n">LTRIM</span><span class="p">(</span><span class="s1">' ABC'</span><span class="p">),</span>
 <span class="k">LENGTH</span><span class="p">(</span><span class="n">LTRIM</span><span class="p">(</span><span class="s1">' ABC'</span><span class="p">))</span>
 <span class="k">FROM</span> <span class="n">DUAL</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="문자형-함수">문자형 함수</h4>
<ul>
  <li>ACSII(문자) : 문자 혹은 숫자를 ACSII 코드 값으로 변환</li>
  <li>CHAR(ACSII 코드 값) : ACSII 코드 값을 문자로 변환</li>
  <li>SUBSTR(문자열, m, n) : 문자열에서 m번째 위치부터 n개를 자름</li>
  <li>CONCAT(문자열1, 문자열2) : 문자열1번과 문자열2번을 결합, Oracle은 ‘||’, MS-SQL은
‘+’를 사용할 수 있음</li>
  <li>LOWER(문자열) : 영문자를 소문자로 변환</li>
  <li>UPPER(문자열) : 영문자를 대문자로 변환</li>
  <li>LENGTH(문자열), LEN(문자열) : 공백을 포함해서 문자열의 길이를 알려줌</li>
  <li>LTRIM(문자열, 지정문자) : 왼쪽에 지정된 문자를 삭제, 지정된 문자를 생략하면 공백을 삭제</li>
  <li>RTRIM(문자열, 지정문자) : 오른쪽에 지정된 문자를 삭제, 지정된 문자를 생략하면 공백을 삭제</li>
  <li>
    <p>TRIM(문자열, 지정된 문자) : 왼쪽 및 오른쪽에 지정된 문자를 삭제, 지정된 문자를 생략하면 공백을 삭제</p>
  </li>
  <li>날짜형 함수중에서 오늘 날짜를 구하기 위해서는 ‘SYSDATE’를 사용하면 됨</li>
  <li>만약, 해당 연도만 알고 싶다면 EXTRACT 함수를 사용</li>
  <li>TO_CAHR함수는 형변환 함수 중에서 가장 많이 사용하는 것으로 숫자나 날짜를 원하는 포맷의 문자열로 변환</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">SYSDATE</span><span class="p">,</span>
<span class="k">EXTRACT</span><span class="p">(</span><span class="nb">YEAR</span> <span class="k">From</span> <span class="n">sysdate</span><span class="p">),</span>
<span class="n">TO_CHAR</span><span class="p">(</span><span class="n">SYSDATE</span><span class="p">,</span> <span class="s1">'YYYYMMDD'</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">DUAL</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="날짜형-함수">날짜형 함수</h4>
<ul>
  <li>SYSDATE : 오늘의 날짜를 날짜형 타입으로 알려줌</li>
  <li>
    <p>EXTRACT(‘YEAR’|‘MONTH’|‘DAY’ from d) : 날짜에서 년, 월, 일을 조회</p>
  </li>
  <li>절대값을 계산하는 ABS 함수와 음수, 0, 양수를 구분하는 SIGN, 나머지를 계산하는 MOD 등의 함수를 사용하면 다음과 같음</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- SIGN 양수 1</span>
<span class="k">SELECT</span> <span class="k">ABS</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">SIGN</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="k">MOD</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
 <span class="n">CEIL</span><span class="p">(</span><span class="mi">10</span><span class="p">.</span><span class="mi">9</span><span class="p">),</span> <span class="n">FLOOR</span><span class="p">(</span><span class="mi">10</span><span class="p">.</span><span class="mi">1</span><span class="p">),</span> <span class="n">ROUND</span><span class="p">(</span><span class="mi">10</span><span class="p">.</span><span class="mi">222</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">DUAL</span>
</code></pre></div></div>

<h4 id="숫자형-함수">숫자형 함수</h4>
<ul>
  <li>ABS(숫자) : 절대값을 돌려줌</li>
  <li>SIGN(숫자) : 양수, 음수, 0을 구별</li>
  <li>MOD(숫자1, 숫자2) : 숫자1을 숫자2로 나누오 나머지를 계산, %를 사용해도 됨</li>
  <li>CEIL/CEILING(숫자) : 숫자보다 크거나 같은 최소의 정수를 돌려줌</li>
  <li>FLOOR(숫자) : 숫자보다 작거나 같은 최대의 정수를 돌려줌</li>
  <li>ROUND(숫자, m) : 소수점 m 자리에서 반올림, m의 기본값(default value)은 0</li>
  <li>TRUNC(숫자, m) : 소수점 m 자리에서 절삭, m의 기본값은 0</li>
</ul>

<p><br /></p>
<h1 id="point-10-decod와-case문"><a href="">POINT 10. DECOD와 CASE문</a></h1>
<h2 id="1-decode">1. DECODE</h2>
<ul>
  <li>DECODE문으로 IF문을 구현할 수 있음, 즉, 특정 조건이 참이면 A, 거짓이면 B로 응답하게 할 수 있는 것</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 비교문으로 EMPNO=1000과 같으면 TRUE를 응답하고 같지 않으면 FALSE를 응답</span>
<span class="k">SELECT</span> <span class="n">DECODE</span> <span class="p">(</span><span class="n">EMPNO</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="s1">'TRUE'</span><span class="p">,</span> <span class="s1">'FALSE'</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">EMP</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="2-case문">2. CASE문</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">CASE</span>
  <span class="k">WHEN</span> <span class="n">EMPNO</span> <span class="o">=</span> <span class="mi">1000</span> <span class="k">THEN</span> <span class="s1">'A'</span>
  <span class="k">WHEN</span> <span class="n">EMPNO</span> <span class="o">=</span> <span class="mi">1001</span> <span class="k">THEN</span> <span class="s1">'B'</span>
  <span class="k">ELSE</span> <span class="s1">'C'</span>
<span class="k">FROM</span> <span class="n">EMP</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="point-11-rownum과-rowid">POINT 11. ROWNUM과 ROWID</h1>
<h2 id="1-rownum">1. ROWNUM</h2>
<ul>
  <li>ROWNUM은 SELECT문의 결과에 대해서 논리적인 일렬번호를 부여</li>
  <li>ROWNUM은 조회되는 행 수를 제한할 때 많이 사용</li>
  <li>ROWNUM을 사용해서 한 개의 행을 가져올 수 있으나, 여러개의 행을 가져올 때는 인라인 뷰(Inline view)를 사용해야 함</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 한 행을 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="k">WHERE</span> <span class="n">RWNUM</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">-- ROWNUM에 별칭(Alias)을 사용함</span>
<span class="c1">-- FROM 절에 SELECT문을 사용하면 Inline view라고 함</span>
<span class="c1">-- 5건의 행을 조회</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="n">ROWNUM</span> <span class="n">list</span><span class="p">,</span> <span class="n">ENAME</span> <span class="k">FROM</span> <span class="n">EMP</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">list</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">;</span>

<span class="c1">-- ROWNUM과 BETWEEN구를 사용해서 웹페이지 조회를 구현할 수 있음</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="n">ROWNUM</span> <span class="n">list</span><span class="p">,</span> <span class="n">ENAME</span> <span class="k">FROM</span> <span class="n">EMP</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">list</span> <span class="k">BETWEEN</span> <span class="mi">5</span> <span class="k">AND</span> <span class="mi">10</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="2-rowid">2. ROWID</h2>
<ul>
  <li>ROWID는 ORACLE 데이터베이스 내에서 데이터를 구분할 수 있는 유일한 값</li>
  <li>ROWID는 ‘SELECT ROWID, EMPNO FROM EMP’와 같은 SELECT문으로 확인할 수 있음</li>
  <li>ROWID는 데이터가 어떤 데이터 파일, 어떤 블록에 저장되어 있는지 알 수 있음</li>
</ul>

<h4 id="rowid-구조">ROWID 구조</h4>
<ul>
  <li>오브젝트 번호 (길이 1~6) : 오브젝트 별로 유일한 값을 가지고 있으며, 해당 오브젝트가 속해 있는 값</li>
  <li>상대 파일번호 (길이 7~9) : 테이블스페이스(Tablespace)에 속해 있는 데이터 파일에 대한 상대번호</li>
  <li>블록번호 (길이 10~15) : 데이터 파일 내부에서 어느 블록에 데이터가 있는지 알려줌</li>
  <li>데이터 번호 (길이 16~18) : 데이터 블록에 데이터가 저장되어 있는 순서를 의미</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">rowid</span><span class="p">,</span> <span class="n">winetypename</span>
<span class="k">FROM</span> <span class="n">winetype</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="point-12-with-구문">POINT 12. WITH 구문</h1>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">WITH</span> <span class="n">viewData</span> <span class="k">AS</span>
  <span class="p">(</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
    <span class="k">UNION</span> <span class="k">ALL</span>
  <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP</span>
<span class="p">)</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">viewData</span> <span class="k">WHERE</span> <span class="n">EMPNO</span><span class="o">=</span><span class="mi">1000</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="point-13-dcldata-control-language">POINT 13. DCL(Data Control Language)</h1>
<h2 id="1-grant">1. GRANT</h2>
<ul>
  <li>GRANT문은 데이터베이스 사용자에게 권한을 부여</li>
  <li>데이터베이스 사용을 위해서는 권한이 있어서 연결, 입력, 수정, 삭제, 조회를 할 수 있음</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="k">privileges</span> <span class="k">ON</span> <span class="k">object</span> <span class="k">TO</span> <span class="k">user</span><span class="p">;</span>
<span class="c1">-- privileges는 권한을 의미하며 object는 테이블명</span>
<span class="c1">-- user는 Oracle 데이터베이스 사용자를 지정하면 됨</span>
</code></pre></div></div>

<h4 id="privileges권한">privileges(권한)</h4>
<ul>
  <li>SELECT : 지정된 테이블에 대해서 SELECT 권한을 부여</li>
  <li>INSERT : 지정된 테이블에 대해서 INSERT 권한을 부여</li>
  <li>UPDATE : 지정된 테이블에 대해서 UPDATE 권한을 부여</li>
  <li>DELETE : 지정된 테이블에 대해서 DELETE 권한을 부여</li>
  <li>REFERENCES : 지정된 테이블을 참조하는 제약조건을 생성하는 권한을 부여</li>
  <li>ALTER : 지정된 테이블에 대해서 수정할 수 있는 권한을 부여</li>
  <li>INDEX : 지정된 테이블에 대해서 인덱스를 생성할 수 있는 권한을 부여함</li>
  <li>ALL : 테이블에 대한 모든 권한을 부여</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- LIMBEST 사용제에게 EMP 테이블에 대해 다음 권한을 부여</span>
<span class="k">GRANT</span> <span class="k">SELECT</span><span class="p">,</span> <span class="k">INSERT</span><span class="p">,</span> <span class="k">UPDATE</span><span class="p">,</span> <span class="k">DELETE</span>
<span class="k">ON</span> <span class="n">EMP</span>
<span class="k">TO</span> <span class="n">LIMBEST</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="with-grant-option">WITH GRANT OPTION</h4>
<ul>
  <li>WITH GRANT OPTION : 특정 사용자에게 권한을 부여할 수 있는 권한을 부여, 권한을 A 사용자가 B에 부여하고 B가 다시 C를 부여한 후에 권한을 취소(REVOKE)하면 모든 권한이 취소</li>
  <li>WITH ADMIN OPTION : 테이블에 대한 모든 권한을 부여, 권한을 A 사용자가 B에 부여하고 B가 다시 C를 부여한 후에 권한을 취소(REVOKE)하면 B 사용자 권한만 취소</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="k">SELECT</span><span class="p">,</span> <span class="k">INSERT</span><span class="p">,</span> <span class="k">UPDATE</span><span class="p">,</span> <span class="k">DELETE</span>
<span class="k">ON</span> <span class="n">EMP</span>
<span class="k">TO</span> <span class="n">LIMBEST</span> <span class="k">WITH</span> <span class="k">GRANT</span> <span class="k">OPTION</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="2-revoke">2. REVOKE</h2>
<ul>
  <li>데이터베이스 사용자에게 부여된 권한을 회수</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">REVOKE</span> <span class="n">privileages</span> <span class="k">ON</span> <span class="k">object</span> <span class="k">FROM</span> <span class="k">user</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="point-14-tcltransaction-control-language">POINT 14. TCL(Transaction Control Language)</h1>
<h2 id="1-commit">1. COMMIT</h2>
<ul>
  <li>COMMIT은 INSERT, UPDATE, DELETE문으로 변경한 데이터를 데이터베이스에 반영</li>
  <li>변경 전 이전 데이터는 잃어버림, 즉, A값을 B로 변경하고 COMMIT을 하면 A값은 잃어버리고 B값을 반영</li>
  <li>COMMIT을 실행하면 하나의 트랜잭션 과정을 종료</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">connect</span> <span class="n">limbest</span><span class="o">/</span><span class="mi">1234</span>

<span class="c1">-- emp 테이블에서 사원번호 1000번의 ename을 '임베스트'로 변경</span>
<span class="k">update</span> <span class="n">emp</span> <span class="k">set</span> <span class="n">ename</span><span class="o">=</span><span class="s1">'임베스트'</span> <span class="k">where</span> <span class="n">empno</span><span class="o">=</span><span class="mi">1000</span><span class="p">;</span>

<span class="c1">-- COMMIT을 실행해서 데이터베이스에 반영</span>
<span class="k">commit</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="2-rollback">2. ROLLBACK</h2>
<ul>
  <li>ROLLBACK을 실행하면 데이터에 대한 변경 사용을 모두 취소하고 트랜잭션을 종료</li>
  <li>INSERT, UPDATE, DELETE문의 작업을 모두 취소, 단 이전에 COMMIT한 곳까지만 복구</li>
  <li>ROLLBACK을 실행하면 LOCK이 해제되고 다른 사용자들도 데이터베이스 행을 조작가능 함</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 변경된 사항을 취소함</span>
<span class="k">rollback</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="3-savepoint저장점">3. SAVEPOINT(저장점)</h2>
<ul>
  <li>SAVEPOINT를 사용하면 지정된 위치까지만 트랜잭션을 ROLLBACK할 수 있음</li>
  <li>지정된 savepoint까지만 데이터 변경을 취소하고 싶은 경우는 ‘ROLLBACK TO <SAVEPOINT명>'을 실행</SAVEPOINT명></li>
  <li>만약 ROLLBACK을 실행하면 SAVEPOINT와 관계 없이 변경된 모든 데이터를 취소</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- SAVEPOINT T1을 지정</span>
<span class="n">savepoint</span> <span class="n">t1</span><span class="p">;</span>

<span class="c1">-- SAVEPOINT T2를 지정</span>
<span class="n">savepoint</span> <span class="n">t2</span><span class="p">;</span>

<span class="c1">-- savepoint t2까지 변경된 것을 취소</span>
<span class="k">rollback</span> <span class="k">to</span> <span class="n">t2</span>
</code></pre></div></div>

  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="safenumz/blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/blog/sql/2019/03/10/SQLD_01)_SQL_%EA%B8%B0%EB%B3%B8.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>AI and Data Engineering</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" target="_blank" title="fastai"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" target="_blank" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
